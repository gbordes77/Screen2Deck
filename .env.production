# Screen2Deck Production Environment Variables
# Generated: 2025-08-17
# IMPORTANT: Keep this file secure and never commit to version control

# Application
APP_ENV=production
PORT=8080
LOG_LEVEL=INFO
DEBUG=false

# Security - CRITICAL: These have been updated from defaults
JWT_SECRET_KEY=1x36kznQZopG1SOjTV8uug-qqKsExwnRyAswn7X3f4Y
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
API_KEY_PREFIX=s2d_

# Database - Updated with secure password
DATABASE_URL=postgresql://screen2deck:V3NpxOn6j1Mj6Nby-EvSi5-rw7UIMFg6@postgres:5432/screen2deck
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# Redis - Now with authentication
USE_REDIS=true
REDIS_URL=redis://:e757gUbgsVlv73VURWhJWT_DP5bnM56L@redis:6379/0
REDIS_PASSWORD=e757gUbgsVlv73VURWhJWT_DP5bnM56L
REDIS_POOL_SIZE=10

# OCR Settings
ENABLE_VISION_FALLBACK=false
VISION_FALLBACK_CONFIDENCE_THRESHOLD=0.62
VISION_FALLBACK_MIN_LINES=10
ENABLE_SUPERRES=false
OCR_MIN_CONF=0.62
OCR_MIN_LINES=10
MAX_IMAGE_MB=10
MAX_UPLOAD_SIZE=10485760
FUZZY_MATCH_TOPK=5

# Scryfall - NEVER change ALWAYS_VERIFY_SCRYFALL
ALWAYS_VERIFY_SCRYFALL=true
ENABLE_SCRYFALL_ONLINE_FALLBACK=true
SCRYFALL_API_TIMEOUT=5
SCRYFALL_API_RATE_LIMIT_MS=120
SCRYFALL_DB=./app/data/scryfall_cache.sqlite
SCRYFALL_BULK_PATH=./app/data/scryfall-default-cards.json

# OpenAI (optional - add key if using Vision fallback)
OPENAI_API_KEY=

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
OTLP_ENDPOINT=otel-collector:4317

# CORS - Update with your production domain
CORS_ORIGINS=["https://screen2deck.com","https://www.screen2deck.com","https://api.screen2deck.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_IP=10

# Feature Flags
FEATURE_WEBSOCKET=true
FEATURE_GRAPHQL=false
FEATURE_ASYNC_PROCESSING=true

# WebSocket (for frontend)
NEXT_PUBLIC_WS_URL=wss://api.screen2deck.com/ws
NEXT_PUBLIC_API_URL=https://api.screen2deck.com

# GDPR & Data Retention
GDPR_ENABLED=true
DATA_RETENTION_IMAGES_HOURS=24
DATA_RETENTION_JOBS_HOURS=1
DATA_RETENTION_HASHES_DAYS=7
DATA_RETENTION_LOGS_DAYS=7
DATA_RETENTION_METRICS_DAYS=30

# Privacy Settings
ENABLE_ANALYTICS=false
ENABLE_TRACKING=false
REQUIRE_CONSENT=true
ENCRYPTION_AT_REST=true
AUDIT_LOGGING=true